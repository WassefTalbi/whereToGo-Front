<!-- Start Breadcrumbs -->
<app-breadcrumbs title="Overview" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<!-- End Breadcrumbs -->

<div class="row">
    <div class="col-xxl-9">
        <div class="card">
            <div class="card-body">
                <div class="row align-items-center justify-content-center g-3">
                    <div class="col-xl-4 col-md-5">
                        <div class="text-center bg-info-subtle rounded-3 py-3 ribbon-box page-agency-overview overflow-hidden">
                            <div class="ribbon ribbon-danger ribbon-shape trending-ribbon">
                                <span class="trending-ribbon-text">{{nbrProperties}} : Properties </span> <i class="mdi mdi-home-city text-white align-bottom float-end ms-2"></i>
                            </div>
                            <img src="http://localhost:1919/user/image/{{agency.photoProfile}}" alt="" class="img-fluid">
                        </div>
                    </div>
                    <div class="col-xl-8 col-md-7">
                        <div>
                            <div class="mb-3">
                                <h6 class="card-title">Real estate agency</h6>
                                <p class="text-muted mb-0">Dream house</p>
                            </div>
                            <div>
                                <div class="table-responsive">
                                    <table class="table table-sm table-nowrap table-borderless mb-0">
                                        <tbody>
                                            <tr>
                                                <th>Agency:</th>
                                                <td><a href="javascript:void(0);">{{agency.name}}</a></td>
                                            </tr>
                                            <tr>
                                                <th>Email:</th>
                                                <td>{{agency.email}}</td>
                                            </tr>
                                            <tr>
                                                <th>Contact Number:</th>
                                                <td>+(216) {{agency.phone}}</td>
                                            </tr>
                                            <tr>
                                                <th>Website:</th>
                                                <td>https://{{agency.name}}.com/</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <ul class="list-unstyled hstack gap-2 mb-0 mt-4">
                                    <li>
                                        <a href="javascript:void(0);" class="avatar-xs d-inline-block">
                                            <div class="avatar-title rounded bg-primary-subtle text-primary">
                                                <i class="bi bi-facebook"></i>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);" class="avatar-xs d-inline-block">
                                            <div class="avatar-title bg-success-subtle text-success rounded">
                                                <i class="bi bi-whatsapp"></i>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);" class="avatar-xs d-inline-block">
                                            <div class="avatar-title bg-info-subtle text-info rounded">
                                                <i class="bi bi-twitter"></i>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);" class="avatar-xs d-inline-block">
                                            <div class="avatar-title bg-danger-subtle text-danger rounded">
                                                <i class="bi bi-instagram"></i>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-body">
                <div class="">
                
                    <h6 class="card-title">About</h6>
                    <p class="text-muted mb-2">{{agency.description}}</p>
                   
                </div>
            </div>
        </div>

        <div class="row justify-content-between align-items-center mb-4">
            <div class="col-lg-12">
                <div class="d-flex">
                    <div class="flex-grow-1">
                        <!-- Nav tabs -->
                        <ul class="nav nav-pills nav-secondary mb-3" role="tablist">
                            <li class="nav-item ">
                                <a [class.active]="currentTab === 'property'" class="nav-link active" data-bs-toggle="tab" href="javascript:void(0);" (click)="changeTab('property')" role="tab">Property</a>
                            </li>
                          
                        </ul>
                    </div>
               
                </div>
                <!-- Tab panes -->
                <div class="tab-content text-muted">
                    <div [hidden]="currentTab !== 'property'" class="tab-pane show active" id="border-nav-home" role="tabpanel" tabindex="0">
                        <div class="row mt-3">
                            @for (data of properties; track $index) {
                            <div class="col-xxl-3 col-sm-6">
                                <div class="card real-estate-grid-widgets card-animate">
                                    <div class="card-body p-2">
                                        <img src="http://localhost:1919/user/image/{{data.image}}" alt="" class="img-fluid rounded">
                                      
                                      
                                    </div>
                                    <div class="card-body p-3">
                                        <p class="text-muted float-end mb-0"><i class="bi bi-star text-warning align-baseline me-1"></i>
                                            {{data.rating}}</p>
                                        <span class="badge fs-xxs mb-3" [ngClass]="{'bg-danger-subtle text-danger':data.type == 'Villa','bg-success-subtle text-success':data.type=='Residency','bg-info-subtle text-info':data.type == 'Apartment'}"><i class="bi bi-house-door align-baseline me-1"></i>
                                            {{data.type}}</span>
                                        <a href="javascript:void(0);">
                                            <h6 class="fs-lg text-capitalize text-truncate">{{data.title}}
                                            </h6>
                                        </a>
                                        <p class="text-muted"><i class="bi bi-geo-alt align-baseline me-1"></i>
                                            {{data.location}}</p>
                                        <ul class="d-flex align-items-center gap-2 flex-wrap list-unstyled">
                                            <li>
                                                <p class="text-muted mb-0"><i class="bi bi-house align-baseline text-primary me-1"></i>
                                                    {{data.bedroom}} BEDROOM</p>
                                            </li>
                                            <li>
                                                <p class="text-muted mb-0"><i class="ph ph-bathtub align-middle text-primary me-1"></i>
                                                    {{data.bathroom}} BATHROOM</p>
                                            </li>
                                            <li>
                                                <p class="text-muted mb-0"><i class="bi bi-columns align-baseline text-primary me-1"></i>
                                                    {{data.area}} SQFT</p>
                                            </li>
                                        </ul>
                                        <div class="border-top border-dashed mt-3 pt-3 d-flex align-items-center justify-content-between gap-3">
                                            <h5 class="mb-0">{{data.price}} DT</h5>
                                            <a  [routerLink]="['/real-estate/property-overview', data.id]" class="link-effect">Read More <i class="bi bi-chevron-right align-baseline ms-1"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div><!--end col-->
                        }
                        </div><!--end row-->
                        <div class="row align-items-center justify-content-between text-center text-sm-start mb-3">
                            <div class="col-sm">
                                <div class="text-muted">
                                    <!-- Showing <span class="fw-semibold">{{service.endIndex}}</span> of <span class="fw-semibold">{{service.totalRecords}}</span> Results -->
                                </div>
                            </div><!--end col-->
                            <div class="col-sm-auto  mt-3 mt-sm-0">
                                <!-- <pagination class="pagination-wrap hstack gap-2" [totalItems]="(total | async)!" [(ngModel)]="service.page" [itemsPerPage]="service.pageSize"></pagination> -->
                            </div><!--end col-->
                        </div><!--end row-->
                    </div>

                    
                </div>
                <!-- Tab panes -->
            </div>

        </div>
    </div><!--end col-->

   
</div><!--end row-->